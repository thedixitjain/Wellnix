{% extends "base.html" %}

{% block title %}Workout History ‚Äî Wellnix{% endblock %}

{% block content %}
<div class="page-header" style="background: var(--gradient-hero);">
  <div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <div>
        <h1>Workout History</h1>
        <p>Your exercise sessions and form progress</p>
      </div>
      <a href="/muscle-ai" class="btn btn-primary">New Workout</a>
    </div>
  </div>
</div>

<section style="padding: var(--space-8) 0;">
  <div class="container">
    {% if workouts.items %}
      <div class="card" style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="border-bottom: 1px solid var(--border-default);">
              <th style="text-align: left; padding: var(--space-3); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary);">Exercise</th>
              <th style="text-align: left; padding: var(--space-3); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary);">Reps</th>
              <th style="text-align: left; padding: var(--space-3); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary);">Form Score</th>
              <th style="text-align: left; padding: var(--space-3); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary);">Date</th>
            </tr>
          </thead>
          <tbody>
            {% for workout in workouts.items %}
            <tr style="border-bottom: 1px solid var(--border-subtle);">
              <td style="padding: var(--space-4);">
                <div style="font-weight: 500;">{{ workout.exercise_type.replace('_', ' ').title() }}</div>
              </td>
              <td style="padding: var(--space-4);">{{ workout.reps or '‚Äî' }}</td>
              <td style="padding: var(--space-4);">
                <span style="font-weight: 600; color: {% if workout.form_score >= 7 %}var(--accent-primary){% elif workout.form_score >= 5 %}#f59e0b{% else %}#ef4444{% endif %};">
                  {{ workout.form_score }}/10
                </span>
              </td>
              <td style="padding: var(--space-4); color: var(--text-tertiary);">
                {{ workout.created_at.strftime('%b %d, %Y') }}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      {% if workouts.pages > 1 %}
      <div style="display: flex; justify-content: center; gap: var(--space-2); margin-top: var(--space-6);">
        {% if workouts.has_prev %}
        <a href="?page={{ workouts.prev_num }}" class="btn btn-secondary">‚Üê Previous</a>
        {% endif %}
        <span style="padding: var(--space-3); color: var(--text-tertiary);">
          Page {{ workouts.page }} of {{ workouts.pages }}
        </span>
        {% if workouts.has_next %}
        <a href="?page={{ workouts.next_num }}" class="btn btn-secondary">Next ‚Üí</a>
        {% endif %}
      </div>
      {% endif %}
    {% else %}
      <div class="card" style="text-align: center; padding: var(--space-12);">
        <div style="font-size: 4rem; margin-bottom: var(--space-4);">üèãÔ∏è</div>
        <h3>No workouts yet</h3>
        <p style="margin-bottom: var(--space-6);">Start analyzing your exercise form to track improvement.</p>
        <a href="/muscle-ai" class="btn btn-primary">Analyze Your First Workout</a>
      </div>
    {% endif %}
  </div>
</section>
{% endblock %}

